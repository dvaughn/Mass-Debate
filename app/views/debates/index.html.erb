<div class="container">
  <div class="page-header">
    <h1>Debate List<small>Awaiting Challengers</small></h1>
  </div>

  <table class="table table-striped table-hover">
    <tr>
      <th>Topic</th>
      <th>Description</th>
      <th>Stance</th>
      <th>Debater</th>
      <th></th>
    </tr>

    <% @debates.each do |debate| %>

    <tr>
      <td><%= Topic.find(debate.topic_id).name %></td>
      <td><%= debate.question %></td>
      <td><%= debate.side1 %></td>
      <td><%= debate.debateName1 %></td>
      <td>
        <button class="btn btn-warning" type="button" data-toggle="modal" data-target="#newDebateModal<%=debate.id%>">Challenge!</button> 
        <div class="modal hide fade" id="newDebateModal<%=debate.id%>">

          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>Begin the Challenge!</h3>
          </div>

          <div class="modal-body">
            
            <%= form_for @debate, :url => {:action => :join}, :html => { :method => "POST" } do |f| %>
              <%= f.hidden_field :id, :value => debate.id %>
              <%= f.label "Enter your side/argument for the debate:" %>
              <%= f.text_field :side2 %>
              <p>
                <%= f.submit "Begin!", :class => "btn btn-success" %>
              </p>
            <% end %>
          </div>
        </div>
      </td>
    </tr>
    <% end %>
  </table>
</div>
  


